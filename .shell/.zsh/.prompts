autoload -Uz vcs_info

setopt prompt_subst

zstyle ':vcs_info:*' enable git
zstyle ':vcs_info:git*' formats "[%b]"
zstyle ':vcs_info:git*' actionformats "[%b: %a]"

function vcs_info_wrapper() {
  vcs_info
  if [ -n $vcs_info_msg_0_ ]; then
    echo $'%{\e[1;30m%}'${vcs_info_msg_0_}$'%{\e[0m%}'
  fi
}

function precmd() {
  print ''
}

export PROMPT=$'%{\e[1;30m%}↳ %1d %{\e[38;5;160m%}»%{\e[38;5;208m%}»%{\e[38;5;34m%}»%{\e[0m%}  '
export RPROMPT=$'$(vcs_info_wrapper)'
